# P30

> Map çš„å¦™ç”¨â€”â€”ä¸¤æ•°æ±‚å’Œé—®é¢˜

**âš¡é¢˜ç›®**:

â“ ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡

ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ 
ç¤ºä¾‹: ç»™å®š `nums = [2, 7, 11, 15], target = 9`
å› ä¸º `nums[0] + nums[1] = 2 + 7 = 9` æ‰€ä»¥è¿”å› `[0, 1]`

## æ±‚è§£ âŒ›

```js
function getaddNumsByTarget (arr = [], target = 0) {
  if (!arr || !arr.length || !target) return [];

  let res = [];
  for (let i = 0; i < arr.length; i ++) {
    let a = arr[i];
    let b = target -a ;
    for (let j = i + 1; j < arr.length; j ++) {
      if (arr[j] === b) {
        // æ‰€æœ‰ç»„åˆ
        // res.push([i, j, a, b]);
        // break;
        res = [i, j, a, b];
        return res;
      }
    }
  }
  return res;
}
```

> O(n^2) å¤æ‚åº¦

## ä¼˜è§£ ğŸ”¥

> è½¬ä¸ºæ±‚å·®ï¼ŒO(n), ç©ºé—´æ¢æ—¶é—´

```js
function getaddNumsByTarget (arr = [], target = 0) {
  if (!arr || !arr.length || !target) return [];

  let res = [];
  let catchMap = {};

  for (let i = 0; i < arr.length; i ++) {
    let a = arr[i];
    let b = target - a;

    if (b in catchMap) {
      res = [i, catchMap[b], a, b]
      break;
    } else {
      catchMap[a] = i;
    }
  }
  return res;
}
```

## å˜åŸºâ˜• â€”â€” ä¸‰æ•°æ±‚å’Œ

ç»™ä½ ä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œåˆ¤æ–­ nums ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾— a + b + c = 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚
æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚

ç¤ºä¾‹ï¼š ç»™å®šæ•°ç»„ `nums = [-1, 0, 1, 2, -1, -4]`ï¼Œ æ»¡è¶³è¦æ±‚çš„ä¸‰å…ƒç»„é›†åˆä¸ºï¼š `[ [-1, 0, 1], [-1, -1, 2] ]`

**æ€è·¯**:

- æŠŠæ±‚å’Œé—®é¢˜å˜æˆæ±‚å·®é—®é¢˜ â€”â€” å›ºå®šå…¶ä¸­ä¸€ä¸ªæ•°ï¼Œåœ¨å‰©ä¸‹çš„æ•°ä¸­å¯»æ‰¾æ˜¯å¦æœ‰ä¸¤ä¸ªæ•°å’Œè¿™ä¸ªå›ºå®šæ•°ç›¸åŠ æ˜¯ç­‰äº0çš„
- åŒæŒ‡é’ˆæ³• - ç©ºé—´æ¢æ—¶é—´ï¼Œ å‡å°‘è¿‡åº¦å¾ªç¯; æŒ‡é’ˆå„è‡ªåˆ¤æ–­å·¦ç§»è¿˜æ˜¯å³ç§»

> åŒæŒ‡é’ˆå‰æ **è¯¥æ•°ç»„å¿…é¡»æœ‰åº**ã€‚å¦åˆ™åŒæŒ‡é’ˆæ ¹æœ¬æ— æ³•å¸®åŠ©æˆ‘ä»¬ç¼©å°å®šä½çš„èŒƒå›´ï¼Œå‹æ ¹æ²¡æœ‰æ„ä¹‰ã€‚å› æ­¤è¿™é“é¢˜çš„ç¬¬ä¸€æ­¥æ˜¯å°†æ•°ç»„æ’åº

åœ¨ä¸Šé¢è¿™é“é¢˜ä¸­ï¼Œå·¦å³æŒ‡é’ˆä¸€èµ·ä»ä¸¤è¾¹å¾€ä¸­é—´ä½ç½®ç›¸äº’è¿«è¿‘ï¼Œè¿™æ ·çš„ç‰¹æ®ŠåŒæŒ‡é’ˆå½¢æ€ï¼Œè¢«ç§°ä¸º**å¯¹æ’æŒ‡é’ˆ**ã€‚

```js
/**
 * @param {number[]} nums
 * @return {number[][]}
 */
const threeSum = function(nums) {
  // ç”¨äºå­˜æ”¾ç»“æœæ•°ç»„
  let res = []
  // ç»™ nums æ’åº
  nums = nums.sort((a,b)=>{
    return a-b
  })
  // ç¼“å­˜æ•°ç»„é•¿åº¦
  const len = nums.length
  // æ³¨æ„æˆ‘ä»¬éå†åˆ°å€’æ•°ç¬¬ä¸‰ä¸ªæ•°å°±è¶³å¤Ÿäº†ï¼Œå› ä¸ºå·¦å³æŒ‡é’ˆä¼šéå†åé¢ä¸¤ä¸ªæ•°
  for(let i=0;i<len-2;i++) {
    // å·¦æŒ‡é’ˆ j
    let j=i+1
    // å³æŒ‡é’ˆk
    let k=len-1
    // å¦‚æœé‡åˆ°é‡å¤çš„æ•°å­—ï¼Œåˆ™è·³è¿‡
    if(i>0&&nums[i]===nums[i-1]) {
      continue
    }
    while(j<k) {
      // ä¸‰æ•°ä¹‹å’Œå°äº0ï¼Œå·¦æŒ‡é’ˆå‰è¿›
      if(nums[i]+nums[j]+nums[k]<0){
        j++
        // å¤„ç†å·¦æŒ‡é’ˆå…ƒç´ é‡å¤çš„æƒ…å†µ
        while(j<k&&nums[j]===nums[j-1]) {
          j++
        }
      } else if(nums[i]+nums[j]+nums[k]>0){
        // ä¸‰æ•°ä¹‹å’Œå¤§äº0ï¼Œå³æŒ‡é’ˆåé€€
        k--

        // å¤„ç†å³æŒ‡é’ˆå…ƒç´ é‡å¤çš„æƒ…å†µ
        while(j<k&&nums[k]===nums[k+1]) {
          k--
        }
      } else {
        // å¾—åˆ°ç›®æ ‡æ•°å­—ç»„åˆï¼Œæ¨å…¥ç»“æœæ•°ç»„
        res.push([nums[i],nums[j],nums[k]])

        // å·¦å³æŒ‡é’ˆä¸€èµ·å‰è¿›
        j++  
        k--

        // è‹¥å·¦æŒ‡é’ˆå…ƒç´ é‡å¤ï¼Œè·³è¿‡
        while(j<k&&nums[j]===nums[j-1]) {
          j++
        }  

        // è‹¥å³æŒ‡é’ˆå…ƒç´ é‡å¤ï¼Œè·³è¿‡
        while(j<k&&nums[k]===nums[k+1]) {
          k--
        }
      }
    }
  }

  // è¿”å›ç»“æœæ•°ç»„
  return res
};
```
