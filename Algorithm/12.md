# P12

> JS ç®—æ³•

**âš¡é¢˜ç›®**:

â“ éšæœºç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸º 10 çš„æ•´æ•°ç±»å‹çš„æ•°ç»„ï¼Œä¾‹å¦‚ `[2, 10, 3, 4, 5, 11, 10, 11, 20]`ï¼Œå°†å…¶æ’åˆ—æˆä¸€ä¸ªæ–°æ•°ç»„ï¼Œè¦æ±‚æ–°æ•°ç»„å½¢å¼å¦‚ä¸‹ï¼Œä¾‹å¦‚ `[[2, 3, 4, 5], [10, 11], [20]]`

## ä¼˜è§£ ğŸ”¥

- éšè®°10ä¸ªæ•´æ•°ã€å‡åºæ’åº
- åŒä½æ•°ï¼ˆå‡åºæ’åºï¼‰é›†åˆ
- é¦–ä½æ•°ï¼ˆå‡åºæ’åºï¼‰é›†åˆ

```js
// å¾—åˆ°ä¸€ä¸ªä¸¤æ•°ä¹‹é—´çš„éšæœºæ•´æ•°ï¼ŒåŒ…æ‹¬ä¸¤ä¸ªæ•°åœ¨å†…
function getRandomIntInclusive(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min; //å«æœ€å¤§å€¼ï¼Œå«æœ€å°å€¼ 
}
// éšæœºç”Ÿæˆ10ä¸ªæ•´æ•°æ•°ç»„, æ’åº, å»é‡
let initArr = Array.from({ length: 10 }, (v) => { return getRandomIntInclusive(0, 99) });
initArr.sort((a,b) => { return a - b });
initArr = [...(new Set(initArr))];

// æ”¾å…¥hashè¡¨
let obj = {};
initArr.map((i) => {
    const intNum = Math.floor(i/10);
    if (!obj[intNum]) obj[intNum] = [];
    obj[intNum].push(i);
})

// è¾“å‡ºç»“æœ
const resArr = [];
for(let i in obj) {
    resArr.push(obj[i]);
}
console.log(resArr);
```

> å¦ä¸€ç†è§£ï¼šè¿ç»­æ•°é›†åˆ

```js
// éšæœºç”Ÿæˆæ•°ç»„
const randomAry = (n = 10, range = { min: 1, max: 20 }) => {
  let ary = new Array(n).fill(0)
  ary = ary.map((val) => {
    val = Math.floor(Math.random() * (range.max - range.min + 1) + range.min)
    return val
  })
  console.log('random: ', ary)
  return ary
}
let ary = randomAry()
// å»é‡
ary = Array.from(new Set(ary))
// æ’åº
ary.sort((a, b) => a - b)
console.log('sorted: ', ary)
// ä¿å­˜ç»“æœ
let newAry = []
for (let i = 0; i < ary.length; i++) {
  let tmpAry = [ary[i]]
  // indexç”¨äºè·³è¿‡å·²ç»å¤„ç†è¿‡çš„æ•°ç»„å…ƒç´ 
  let index = ary.length
  for (let j = i + 1, count = 1; j < ary.length; j++, count++) {
    if (ary[i] + count === ary[j]) { // è¿ç»­æ•°é›†åˆ
      tmpAry.push(ary[j])
    } else {
      index = j - 1
      break
    }
  }
  i = index
  // debugger
  newAry.push(tmpAry)
}
console.log('result', newAry)
```
