# P4

> JS ä¸­ å›æ–‡å­—ç¬¦ä¸²åˆ¤æ–­

**âš¡é¢˜ç›®**:

â“ å†™ä¸€ä¸ªæ–¹æ³•åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºå›æ–‡å­—ç¬¦ä¸²

## ä¼˜è§£ ğŸ”¥

```js
/**
 * ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒéªŒè¯å®ƒæ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼Œåªè€ƒè™‘å­—æ¯å’Œæ•°å­—å­—ç¬¦ï¼Œå¯ä»¥å¿½ç•¥å­—æ¯çš„å¤§å°å†™ã€‚
 * @param {string} s
 * @return {boolean}
 */
var isPalindrome = function(s) {
  if (s.length === 1) return true
  const str = s.replace(/[^a-zA-Z0-9]/g, "").toLowerCase()
  const strReverse = str.split('').reverse().join('')
  return str === strReverse
};

// äºŒåˆ†å¯¹ç§°æ€§åˆ¤æ–­
function isPalindrome(str) {
    // ç¼“å­˜å­—ç¬¦ä¸²çš„é•¿åº¦
    const len = str.length
    // éå†å‰åŠéƒ¨åˆ†ï¼Œåˆ¤æ–­å’ŒååŠéƒ¨åˆ†æ˜¯å¦å¯¹ç§°
    for(let i=0;i<len/2;i++) {
        if(str[i]!==str[len-i-1]) {
            return false
        }
    }
    return true
}

```

## å˜åŸº

> åˆ å­—ç¬¦å›æ–‡

ç»™å®šä¸€ä¸ªéç©ºå­—ç¬¦ä¸² sï¼Œæœ€å¤šåˆ é™¤ä¸€ä¸ªå­—ç¬¦ã€‚åˆ¤æ–­æ˜¯å¦èƒ½æˆä¸ºå›æ–‡å­—ç¬¦ä¸²â“

**åŒæŒ‡é’ˆæ³•**:

å·¦å³æŒ‡é’ˆæ‰€æŒ‡çš„å†…éƒ¨åŒºé—´æ˜¯å›æ–‡çš„ï¼Œå¤–éƒ¨åŒºé—´ä¹Ÿæ˜¯å›æ–‡çš„ï¼Œå¯ä»¥è®¤ä¸ºæ•´ä¸ªå­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸ªå›æ–‡å­—ç¬¦ä¸²äº†ã€‚

```js
const validPalindrome = function(s) {
    // ç¼“å­˜å­—ç¬¦ä¸²çš„é•¿åº¦
    const len = s.length

    // iã€jåˆ†åˆ«ä¸ºå·¦å³æŒ‡é’ˆ
    let i=0, j=len-1

    // å½“å·¦å³æŒ‡é’ˆå‡æ»¡è¶³å¯¹ç§°æ—¶ï¼Œä¸€èµ·å‘ä¸­é—´å‰è¿›
    while(i<j&&s[i]===s[j]) {
        i++
        j--
    }

    // å°è¯•åˆ¤æ–­è·³è¿‡å·¦æŒ‡é’ˆå…ƒç´ åå­—ç¬¦ä¸²æ˜¯å¦å›æ–‡
    if(isPalindrome(i+1,j)) {
      return true
    }
    // å°è¯•åˆ¤æ–­è·³è¿‡å³æŒ‡é’ˆå…ƒç´ åå­—ç¬¦ä¸²æ˜¯å¦å›æ–‡
    if(isPalindrome(i,j-1)) {
        return true
    }

    // å·¥å…·æ–¹æ³•ï¼Œç”¨äºåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å›æ–‡
    function isPalindrome(st, ed) {
        while(st<ed) {
            if(s[st] !== s[ed]) {
                return false
            }
            st++
            ed--
        }
        return true
    }
    // é»˜è®¤è¿”å› false
    return false
};
```
