# P53

> å¯»æ‰¾äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ

**âš¡é¢˜ç›®**ï¼š

â“ ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚

ç¤ºä¾‹: ç»™å®šå¦‚ä¸‹äºŒå‰æ ‘:  root = [3,5,1,6,2,0,8,null,null,7,4]

è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1
è¾“å‡º: 3
è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 1 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 3ã€‚

è¾“å…¥: root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 4
è¾“å‡º: 5
è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 5ã€‚å› ä¸º**æ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«**ã€‚

## æ€è€ƒ âŒš

> æœ€è¿‘å…¬å…±ç¥–å…ˆå’Œå­å‘çˆ¶æœ‰æ•ˆæ±‡æŠ¥ä¸ªæ•°ä¹‹é—´ï¼Œæœ‰ç€éå¸¸å¼ºçƒˆçš„å…³è”

- 0ï¼š å½“å‰èŠ‚ç‚¹ä¸€å®šä¸æ˜¯
- 2ï¼šä¸¤ä¸ªåˆ†æ”¯åˆšå¥½åœ¨å½“å‰ç»“ç‚¹äº¤é”™äº†ï¼Œè¿™åˆšå¥½æ˜¯
- 1:1ï¼‰å½“å‰åªåŒ…å«ä¸€ä¸ªï¼Œç»§ç»­å‘ä¸Šæ‰¾ 2ï¼‰å½“å‰èŠ‚ç‚¹æœ¬èº«æ˜¯ï¼Œç»§ç»­å‘ä¸ŠæŠ¥

## ä¼˜è§£ ğŸš€

> æ·±åº¦éå† DFS

```js
/**
 * äºŒå‰æ ‘ç»“ç‚¹çš„ç»“æ„å®šä¹‰å¦‚ä¸‹
 * function TreeNode(val) {
 *     this.val = val;
 *     this.left = this.right = null;
 * }
 */
/**
 * @param {TreeNode} root
 * @param {TreeNode} p
 * @param {TreeNode} q
 * @return {TreeNode}
 */
const lowestCommonAncestor = function(root, p, q) {
  function dfs(tree) {
    // å…ˆè¾¹ç•Œï¼šèŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œq, p ç›´æ¥è¿”å›

    if (!tree || tree.val === p || tree.val === q) {
      return tree;
    }

    // å‘å·¦å­æ ‘å»å¯»æ‰¾på’Œq
    const leftNode = dfs(root.left)  
    // å‘å³å­æ ‘å»å¯»æ‰¾på’Œq
    const rightNode = dfs(root.right)  
    // å¦‚æœå·¦å­æ ‘å’Œå³å­æ ‘åŒæ—¶åŒ…å«äº†på’Œqï¼Œé‚£ä¹ˆè¿™ä¸ªç»“ç‚¹ä¸€å®šæ˜¯æœ€è¿‘å…¬å…±ç¥–å…ˆ
    if(leftNode && rightNode) {
        return root
    }

    // å¦‚æœå·¦å­æ ‘å’Œå³å­æ ‘å…¶ä¸­ä¸€ä¸ªåŒ…å«äº†pæˆ–è€…qï¼Œåˆ™æŠŠå¯¹åº”çš„æœ‰æ•ˆå­æ ‘æ±‡æŠ¥ä¸Šå»ï¼Œç­‰å¾…è¿›ä¸€æ­¥çš„åˆ¤æ–­ï¼›å¦åˆ™è¿”å›ç©º
    return leftNode || rightNode

  }

  return dfs(root);
}
```
