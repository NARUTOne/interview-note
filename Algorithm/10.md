# P10

> JS ç®—æ³•

**âš¡é¢˜ç›®**:

â“ å†’æ³¡æ’åºå¦‚ä½•å®ç°ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Œ è¿˜å¯ä»¥å¦‚ä½•æ”¹è¿›

## ä¼˜è§£ ğŸ”¥

> æ’åº arr.length - 1 æ¬¡, æ¯æ¬¡é€‰æ‹©ä¸€ä¸ªæ•°ï¼Œå’Œåé¢çš„æ•°ï¼Œä¸¤ä¸¤æ¯”è¾ƒäº¤æ¢

æ—¶é—´å¤æ‚åº¦ O(n^2)  ç©ºé—´å¤æ‚åº¦ O(1)

```js
function bubbleSort(arr, sort = "asc") {
  if (!arr.length) return [];
  const len = arr.length;

  for(let i = 0; i < len; i++) {
    for(let j = 0; j < len; j++) {
      if (arr[j] > arr[j + 1] && sort == "asc") {
        // min => max
        const temp = arr[j];
        arr[j] = arr[j+1];
        arr[j+1] = temp;
      } else {
        // max => min
        const temp = arr[j];
        arr[j] = arr[j+1];
        arr[j+1] = temp;
      }
    }
  }
  return arr;
}
```

æ”¹è¿›å†’æ³¡æ’åºï¼šæ¯æ¬¡æœ€å¤§å€¼æ”¾åˆ°æœ€å³åï¼Œä¼šå°†æœ¬è½®æœ€åä¸€ä¸ªæ“ä½œçš„ä½ç½®ä½œä¸ºä¸‹ä¸€è½®çš„ç»ˆç‚¹ï¼Œå¯ä»¥å‡å°‘ä¸å¿…è¦çš„ä¸€äº›å†’æ³¡

```js
function bubbleSort2(arr) {
  for (let i = 0; i < arr.length - 1; i++) {
    let finish = true;
    let pos = 0;
    let len = arr.length - 1 - i;
    for(let j = 0; j < len; j++) {
      let temp = '';
      if (arr[j] > arr[j + 1]) {
        temp = arr[j];
        arr[j] = arr[j + 1];
        arr[j + 1] = temp;
        finish = false; // æ˜¯å¦è¿˜æœ‰äº¤æ¢ ï¼Œæ²¡æœ‰äº’æ¢åˆ™ä»£è¡¨æ’åºæ’å¥½äº†
        pos = j // æœ€åä¸€æ¬¡äº¤æ¢çš„ä½ç½®ï¼Œä¹‹åçš„æ•°æ®ä¸éœ€è¦å†éå†
      }
    }
    len = pos;
    if (finish) {
      break;
    }
  }
  return arr;
}
bubbleSort2([1,4,3,5,2,10,8,9])
```
