# P39

> ç”¨æ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—

**âš¡é¢˜ç›®**:

â“ é¢˜ç›®æè¿°ï¼šä½¿ç”¨æ ˆå®ç°é˜Ÿåˆ—çš„ä¸‹åˆ—æ“ä½œï¼š
push(x) -- å°†ä¸€ä¸ªå…ƒç´ æ”¾å…¥é˜Ÿåˆ—çš„å°¾éƒ¨ã€‚
pop() -- ä»é˜Ÿåˆ—é¦–éƒ¨ç§»é™¤å…ƒç´ ã€‚
peek() -- è¿”å›é˜Ÿåˆ—é¦–éƒ¨çš„å…ƒç´ ã€‚
empty() -- è¿”å›é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºã€‚

```js
MyQueue queue = new MyQueue();
queue.push(1);
queue.push(2);
queue.peek(); // è¿”å› 1
queue.pop(); // è¿”å› 1
queue.empty(); // è¿”å› false
```

## ä¼˜è§£ ğŸ”¥

> æ ˆï¼Œåè¿›å…ˆå‡ºï¼›é˜Ÿåˆ—ï¼Œå…ˆè¿›å…ˆå‡º

- å‡†å¤‡ä¸¤ä¸ªæ ˆ: Aæ ˆå…¥æ ˆï¼Œ Bæ ˆå‡ºæ ˆ

```js
/**
 * åˆå§‹åŒ–æ„é€ å‡½æ•°
 */
const MyQueue = function () {
  // åˆå§‹åŒ–ä¸¤ä¸ªæ ˆ
  this.stack1 = [];
  this.stack2 = [];
};

/**
* Push element x to the back of queue.
* @param {number} x
* @return {void}
*/
MyQueue.prototype.push = function (x) {
  // ç›´æ¥è°ƒåº¦æ•°ç»„çš„ push æ–¹æ³•
  this.stack1.push(x);
};

/**
* Removes the element from in front of queue and returns that element.
* @return {number}
*/
MyQueue.prototype.pop = function () {
  // å‡å¦‚ stack2 ä¸ºç©ºï¼Œéœ€è¦å°† stack1 çš„å…ƒç´ è½¬ç§»è¿›æ¥
  if (this.stack2.length <= 0) {
    // å½“ stack1 ä¸ä¸ºç©ºæ—¶ï¼Œå‡ºæ ˆ
    while (this.stack1.length !== 0) {
      // å°† stack1 å‡ºæ ˆçš„å…ƒç´ æ¨å…¥ stack2
      this.stack2.push(this.stack1.pop());
    }
  }
  // ä¸ºäº†è¾¾åˆ°é€†åºçš„ç›®çš„ï¼Œæˆ‘ä»¬åªä» stack2 é‡Œå‡ºæ ˆå…ƒç´ 
  return this.stack2.pop();
};

/**
* Get the front element.
* @return {number}
* è¿™ä¸ªæ–¹æ³•å’Œ pop å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯æ²¡æœ‰å°†å®šä½åˆ°çš„å€¼å‡ºæ ˆ
*/
MyQueue.prototype.peek = function () {
  if (this.stack2.length <= 0) {
    // å½“ stack1 ä¸ä¸ºç©ºæ—¶ï¼Œå‡ºæ ˆ
    while (this.stack1.length != 0) {
      // å°† stack1 å‡ºæ ˆçš„å…ƒç´ æ¨å…¥ stack2
      this.stack2.push(this.stack1.pop());
    }
  }
  // ç¼“å­˜ stack2 çš„é•¿åº¦
  const stack2Len = this.stack2.length;
  return stack2Len && this.stack2[stack2Len - 1];
};

/**
* Returns whether the queue is empty.
* @return {boolean}
*/
MyQueue.prototype.empty = function () {
  // è‹¥ stack1 å’Œ stack2 å‡ä¸ºç©ºï¼Œé‚£ä¹ˆé˜Ÿåˆ—ç©º
  return !this.stack1.length && !this.stack2.length;
};
```
