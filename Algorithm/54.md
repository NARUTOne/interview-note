# P54

> â€œç²‰åˆ·æˆ¿å­â€é—®é¢˜

**âš¡é¢˜ç›®**ï¼š

â“ å‡å¦‚æœ‰ä¸€æ’æˆ¿å­ï¼Œå…± n ä¸ªï¼Œæ¯ä¸ªæˆ¿å­å¯ä»¥è¢«ç²‰åˆ·æˆçº¢è‰²ã€è“è‰²æˆ–è€…ç»¿è‰²è¿™ä¸‰ç§é¢œè‰²ä¸­çš„ä¸€ç§ï¼Œä½ éœ€è¦ç²‰åˆ·æ‰€æœ‰çš„æˆ¿å­å¹¶ä¸”ä½¿å…¶ç›¸é‚»çš„ä¸¤ä¸ªæˆ¿å­é¢œè‰²ä¸èƒ½ç›¸åŒã€‚
å½“ç„¶ï¼Œå› ä¸ºå¸‚åœºä¸Šä¸åŒé¢œè‰²æ²¹æ¼†çš„ä»·æ ¼ä¸åŒï¼Œæ‰€ä»¥æˆ¿å­ç²‰åˆ·æˆä¸åŒé¢œè‰²çš„èŠ±è´¹æˆæœ¬ä¹Ÿæ˜¯ä¸åŒçš„ã€‚æ¯ä¸ªæˆ¿å­ç²‰åˆ·æˆä¸åŒé¢œè‰²çš„èŠ±è´¹æ˜¯ä»¥ä¸€ä¸ª n x 3 çš„çŸ©é˜µæ¥è¡¨ç¤ºçš„ã€‚
ä¾‹å¦‚ï¼Œcosts[0][0] è¡¨ç¤ºç¬¬ 0 å·æˆ¿å­ç²‰åˆ·æˆçº¢è‰²çš„æˆæœ¬èŠ±è´¹ï¼›costs[1][2] è¡¨ç¤ºç¬¬ 1 å·æˆ¿å­ç²‰åˆ·æˆç»¿è‰²çš„èŠ±è´¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚è¯·ä½ è®¡ç®—å‡ºç²‰åˆ·å®Œæ‰€æœ‰æˆ¿å­æœ€å°‘çš„èŠ±è´¹æˆæœ¬ã€‚

æ³¨æ„ï¼š æ‰€æœ‰èŠ±è´¹å‡ä¸ºæ­£æ•´æ•°ã€‚

ç¤ºä¾‹ï¼š è¾“å…¥: [[17,2,17],[16,16,5],[14,3,19]]
è¾“å‡º: 10
è§£é‡Š: å°† 0 å·æˆ¿å­ç²‰åˆ·æˆè“è‰²ï¼Œ1 å·æˆ¿å­ç²‰åˆ·æˆç»¿è‰²ï¼Œ2 å·æˆ¿å­ç²‰åˆ·æˆè“è‰²ã€‚
æœ€å°‘èŠ±è´¹: 2 + 5 + 3 = 10ã€‚

## æ€è€ƒ âŒš

> åŠ¨æ€è§„åˆ’

`f[i][x] = Math.min(f[i-1][xä»¥å¤–çš„ç´¢å¼•1å·], f[i-1][xä»¥å¤–çš„ç´¢å¼•2å·]) + costs[i][x]`

f[i][x]å¯¹åº”çš„æ˜¯å½“ç²‰åˆ·åˆ°ç¬¬iä¸ªæˆ¿å­æ—¶ï¼Œä½¿ç”¨ç¬¬xï¼ˆx=0ã€1ã€2ï¼‰å·æ²¹æ¼†å¯¹åº”çš„æ€»èŠ±è´¹æˆæœ¬çš„æœ€å°å€¼ã€‚

```js
f[0][0] = costs[0][0]
f[0][1] = costs[0][1]
f[0][2] = costs[0][2]
```

## ä¼˜è§£ ğŸš€

```js
/**
 * @param {number[][]} costs
 * @return {number}
 */
const minCost = function(costs) {
  // å¤„ç†è¾¹ç•Œæƒ…å†µ
  if(!costs || !costs.length) return 0
  // ç¼“å­˜æˆ¿å­çš„ä¸ªæ•°
  const len = costs.length  
  // åˆå§‹åŒ–çŠ¶æ€æ•°ç»„ï¼ˆäºŒç»´ï¼‰
  const f = new Array(len)
  for(let i=0;i<len;i++) {
      f[i] = new Array(3)
  }
  // åˆå§‹åŒ–çŠ¶æ€å€¼
  f[0][0] = costs[0][0]
  f[0][1] = costs[0][1]
  f[0][2] = costs[0][2]

  // å¼€å§‹æ›´æ–°åˆ·åˆ°æ¯ä¸€ä¸ªæˆ¿å­æ—¶çš„çŠ¶æ€å€¼
  // å¼€å§‹æ›´æ–°åˆ·åˆ°æ¯ä¸€ä¸ªæˆ¿å­æ—¶çš„çŠ¶æ€å€¼
  for(let i=1;i<len;i++) {
    // æ›´æ–°åˆ·åˆ°å½“å‰æˆ¿å­æ—¶ï¼Œç»™å½“å‰æˆ¿å­é€‰ç”¨ç¬¬0ç§æ²¹æ¼†å¯¹åº”çš„æœ€å°æ€»ä»· : å‰ä¸€æˆ¿å­æ€»ä»·+å½“å‰æˆ¿å­éœ€è¦èŠ±è´¹
    f[i][0] = Math.min(f[i-1][1], f[i-1][2]) + costs[i][0]
    // æ›´æ–°åˆ·åˆ°å½“å‰æˆ¿å­æ—¶ï¼Œç»™å½“å‰æˆ¿å­é€‰ç”¨ç¬¬1ç§æ²¹æ¼†å¯¹åº”çš„æœ€å°æ€»ä»·
    f[i][1] = Math.min(f[i-1][2], f[i-1][0]) + costs[i][1]
    // æ›´æ–°åˆ·åˆ°å½“å‰æˆ¿å­æ—¶ï¼Œç»™å½“å‰æˆ¿å­é€‰ç”¨ç¬¬2ç§æ²¹æ¼†å¯¹åº”çš„æœ€å°æ€»ä»·
    f[i][2] = Math.min(f[i-1][1], f[i-1][0]) + costs[i][2]
  }
  // è¿”å›åˆ·åˆ°æœ€åä¸€ä¸ªæˆ¿å­æ—¶ï¼Œæ‰€æœ‰å¯èƒ½å‡ºç°çš„æ€»ä»·ä¸­çš„æœ€å°å€¼
  return Math.min(f[len-1][0], f[len-1][1], f[len-1][2])
}
```

> æ»šåŠ¨æ•°ç»„ä¼˜åŒ–ï¼šå…¶å®æˆ‘ä»¬æ¯æ¬¡æ›´æ–°f[i]æ—¶ï¼Œéœ€è¦çš„ä»…ä»…æ˜¯ f[i-1]å¯¹åº”çš„çŠ¶æ€è€Œå·²ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦ç¡®ä¿ä¸€ä¸ªæ•°ç»„ä¸­æ€»æ˜¯èƒ½ä¿æŒç€æœ‰æ•ˆçš„f[i-1]å³å¯

```js
/**
 * @param {number[][]} costs
 * @return {number}
 */
const minCost = function(costs) {
    // å¤„ç†è¾¹ç•Œæƒ…å†µ
    if(!costs || !costs.length) return 0
    // ç¼“å­˜æˆ¿å­çš„ä¸ªæ•°
    const len = costs.length

    // åˆå§‹å€¼ costs[0] ä»·å€¼å·²çŸ¥

    // å¼€å§‹æ›´æ–°çŠ¶æ€
    for(let i=1;i<len;i++) {  
        // nowè¡¨ç¤ºç²‰åˆ·åˆ°å½“å‰æˆ¿å­æ—¶å¯¹åº”çš„ä»·æ ¼çŠ¶æ€
        const now = costs[i]  
        // prevè¡¨ç¤ºç²‰åˆ·åˆ°ä¸Šä¸€ä¸ªæˆ¿å­æ—¶çš„ä»·æ ¼çŠ¶æ€
        const prev = costs[i-1]  
        // æ›´æ–°å½“å‰çŠ¶æ€ä¸‹ï¼Œåˆ·ä¸‰ç§æ²¹æ¼†å¯¹åº”çš„ä¸‰ç§æœ€ä¼˜ä»·æ ¼ åŠ å’Œæ€»ä»·ç´¯åŠ å­˜å‚¨
        now[0] += Math.min(prev[1], prev[2])  
        now[1] += Math.min(prev[0], prev[2])  
        now[2] += Math.min(prev[1], prev[0])
    }
    // è¿”å›ç²‰åˆ·åˆ°æœ€åä¸€ä¸ªæˆ¿å­æ—¶ï¼Œæ€»ä»·æ ¼çš„æœ€å°å€¼
    return Math.min(costs[len-1][0], costs[len-1][1], costs[len-1][2])
};
```
