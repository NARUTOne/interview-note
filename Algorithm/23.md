# P23

> ç®—æ³•é¢˜

**âš¡é¢˜ç›®**:

â“ æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­è¿ç»­å‡ºç°æœ€å¤šçš„å­—ç¬¦å’Œä¸ªæ•°

```js
'abcaakjbb' => {'a':2,'b':2}
'abbkejsbcccwqaa' => {'c':3}
```

## ä¼˜è§£ ğŸ”¥

> æ³¨æ„è¿ç»­å‡ºç°

```js
function findLongest(str) {
  if (!str) return {}
  let count = 0
  let maxCount = 0
  let cur = str[0]
  let res = {}
  for (let i = 0; i < str.length; i++) {
    const s = str[i]
    if (s === cur) {
      count++
      if (count > maxCount) {
        res = { [s]: count }
        maxCount = count
      }
      if (count === maxCount) {
        res[s] = count
      }
    } else {
      count = 1
      cur = s
    }
  }
  return res
}
```

> æ­£åˆ™ç‰ˆ

```js

'aaasdofjaopfjopaiiisjssfopiasdfffff'.match(/(.)\1+/g); // ["aaa", "iii", "ss", "fffff"]


const arr = str.match(/(\w)\1*/g);
const maxLen = Math.max(...arr.map(s => s.length));
const result = arr.reduce((pre, curr) => {
  if (curr.length === maxLen) {
    pre[curr[0]] = curr.length;
  }
  return pre;
}, {});

console.log(result);
```
