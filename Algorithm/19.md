# P19

> ç®—æ³•é¢˜ æ‰¾å‡ºé“¾æ¡è·¯å¾„ä¸­æ‰€æœ‰çš„çˆ¶çº§ id

**âš¡é¢˜ç›®**:

â“ å·²çŸ¥æ•°æ®æ ¼å¼ï¼Œå®ç°ä¸€ä¸ªå‡½æ•° fn æ‰¾å‡ºé“¾æ¡ä¸­æ‰€æœ‰çš„çˆ¶çº§ id

```js
const value = '112'
const fn = (value) => {
...
}
fn(value) // è¾“å‡º [1ï¼Œ 11ï¼Œ 112]
```

## ä¼˜è§£ ğŸ”¥

- bfsåˆ©ç”¨é˜Ÿåˆ—å®ç°ï¼Œå¾ªç¯ä¸­åšçš„æ˜¯push => shift => push => shift
- dfsåˆ©ç”¨æ ˆå®ç°ï¼Œå¾ªç¯ä¸­åšçš„æ˜¯push => pop => push => pop

```js
function bfs(target, id) {
  const quene = [...target]
  do {
    const current = quene.shift()
    if (current.children) {
      quene.push(...current.children.map(x => ({ ...x, path: (current.path || current.id) + '-' + x.id })))
    }
    if (current.id === id) {
      return current
    }
  } while(quene.length)
  return undefined
}

function dfs(target, id) {
  const stask = [...target]
  do {
    const current = stask.pop()
    if (current.children) {
      stask.push(...current.children.map(x => ({ ...x, path: (current.path || current.id) + '-' + x.id })))
    }
    if (current.id === id) {
      return current
    }
  } while(stask.length)
  return undefined
}

// å…¬å…±çš„æœç´¢æ–¹æ³•ï¼Œé»˜è®¤bfs
function commonSearch(target, id, mode) {
  const staskOrQuene = [...target]
  do {
    const current = staskOrQuene[mode === 'dfs' ? 'pop' : 'shift']()
    if (current.children) {
      staskOrQuene.push(...current.children.map(x => ({ ...x, path: (current.path || current.id) + '-' + x.id })))
    }
    if (current.id === id) {
      return current
    }
  } while(staskOrQuene.length)
  return undefined
}
```

**å…·æœ‰å…³ç³»çš„id**: id = pid + num

```js
function fn(id, list) {
  const match = list.find(item => item.id === id);
  if (match) return [id];
  const sub = list.find(item => id.startsWith(item.id)); // idæ˜¯å¦ä»¥item.idå¼€å¤´
  return [sub.id].concat(fn(id, sub.children));
}
```
