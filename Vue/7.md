# P7

> Vue 数据监控

**⚡题目**:

❓ Vue 中的 computed 是如何实现的

## 优解 🔥

[https://ustbhuangyi.github.io/vue-analysis/v2/reactive/computed-watcher.html#computed](https://ustbhuangyi.github.io/vue-analysis/v2/reactive/computed-watcher.html#computed)

computed本身是通过代理的方式代理到组件实例上的，所以读取计算属性的时候，执行的是一个内部的getter，而不是用户定义的方法。

computed内部实现了一个惰性的watcher，在实例化的时候不会去求值，其内部通过dirty属性标记计算属性是否需要重新求值。当computed依赖的任一状态（不一定是return中的）发生变化，都会通知这个惰性watcher，让它把dirty属性设置为true。所以，当再次读取这个计算属性的时候，就会重新去求值。
