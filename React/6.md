# React-Redux

> React Redux ç®€ä»‹

**âš¡é¢˜ç›®**:

â“ ç®€è¿°React Redux

## ä¼˜è§£ ğŸ”¥

**èƒŒæ™¯**ï¼šæŠŠç»„ä»¶ä¹‹é—´éœ€è¦å…±äº«çš„çŠ¶æ€æŠ½å–å‡ºæ¥ï¼Œéµå¾ªç‰¹å®šçš„çº¦å®šï¼Œç»Ÿä¸€æ¥ç®¡ç†ï¼Œè®©çŠ¶æ€çš„å˜åŒ–å¯ä»¥é¢„æµ‹

Redux å•ä¸€Store, å•å‘æ•°æ®æµç®¡ç†
stateä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼Œåªèƒ½é€šè¿‡actionè¡¨è¾¾ä¿®æ”¹çš„æ„å›¾ï¼Œè°ƒç”¨dispatch()ä¿®æ”¹state
stateçš„ä¿®æ”¹è§„åˆ™reducerså¿…é¡»æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œä¸èƒ½æœ‰å‰¯ä½œç”¨

![redux-data-flow](./imgs/redux-data-flow.png)

Reduxæä¾›çš„API:

1ã€`createStore`æ–¹æ³•çš„ä½œç”¨å°±æ˜¯åˆ›å»ºä¸€ä¸ªRedux storeæ¥å­˜æ”¾åº”ç”¨ä¸­æ‰€æœ‰çš„state

```js
createStore(reducer, [preloadState], [enhancer])
```

æ–¹æ³•æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œåé¢ä¸¤ä¸ªæ˜¯å¯é€‰å‚æ•°:

- `reducer`: å‚æ•°çš„ç±»å‹å¿…é¡»æ˜¯function
- `preloadState`: è¿™ä¸ªå‚æ•°ä»£è¡¨åˆå§‹åŒ–çš„state(initialState), å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å‚æ•°
- `enhancer`: è¿™ä¸ªå‚æ•°ä»£è¡¨æ·»åŠ çš„å„ç§ä¸­é—´ä»¶ï¼Œå‚æ•°çš„ç±»å‹å¿…é¡»æ˜¯function

createStoreæä¾›çš„æ–¹æ³•ï¼š
1ã€`getState()`è¿”å›å½“å‰çš„state
2ã€`dispach(action)`å‚æ•°actionå¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸”å¿…é¡»å«æœ‰typeå­—æ®µ
3ã€`subscribe(listener)`äº‹ä»¶ç›‘å¬

2ã€`combineReducers`ä¸»è¦æ˜¯æŠŠå¤šä¸ªreduceråˆå¹¶æˆä¸€ä¸ªï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæ–°çš„reducerå‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶çš„å‚æ•°ä¹Ÿæ˜¯ä¸¤ä¸ªstateå’Œaction

3ã€`compose`ä¸»è¦æ˜¯åœ¨ä¸­é—´ä»¶æ—¶å€™ä½¿ç”¨ï¼Œåˆæˆå‡½æ•°

```js
compose(applyMiddleware(thunk), 
  window.devToolsExtension ?
  window.devToolsExtension() : undefined
)
```

4ã€`applyMiddleware` è°ƒç”¨ä¸­é—´ä»·
5ã€`bindActionCreator`çš„ä¸»è¦ä½œç”¨å°±æ˜¯å°†acitonä¸dispatchå‡½æ•°ç»‘å®šï¼Œç”Ÿæˆç›´æ¥å¯ä»¥å‡ºå‘actionçš„å‡½æ•°


## å‚è€ƒ

![data-state-share](./imgs/data-state-share.png)

- [Vuexã€Fluxã€Reduxã€Redux-sagaã€Dvaã€MobX](https://zhuanlan.zhihu.com/p/53599723)
