# P21

> JS é¢è¯•

**âš¡é¢˜ç›®**:

â“ URL å‚æ•°è§£æä¸ºä¸€ä¸ªå¯¹è±¡

## ä¼˜è§£ ğŸ”¥

> å¸¸è§„è§£æ

```js
function parseQueryString (url) {
  const index = url.indexOf("?");
  if (!url || index < 0) return {};

  const paramStr = decodeURIComponent(url).slice(index + 1);
  const paramArr = paramStr.split("&");
  const params = paramArr.map(p => {
    const pa = p.split("=");
    return {
      [pa[0]]: [pa[1]]
    }
  })
  return params;
}
```

> æ­£åˆ™è§£æ

```js
function parseQueryString (url) {
  const index = url.indexOf("?");
  if (!url || index < 0) return {};

  return JSON.parse('{"' + decodeURIComponent(url).replace(/"/g, '\\"').replace(/&/g, '","').replace(/=/g, '":"') + '"}');
}
```
