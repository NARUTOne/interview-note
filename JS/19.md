# P19

> JS é¢è¯•

**âš¡é¢˜ç›®**:

â“ ES5/ES6ç»§æ‰¿å·®å¼‚

## ä¼˜è§£ ğŸ”¥

ES6

```js
class Super {}
class Sub extends Super {}

const sub = new Sub();

Sub.__proto__ === Super;
```

babelè§£æ

```js
function Super(){}
let Sub = Object.create(Super)

Sub.__proto__ === Super; //true
```

å­ç±»å¯ä»¥ç›´æ¥é€šè¿‡ __proto__ å¯»å€åˆ°çˆ¶ç±»ã€‚

ES5

```js
function Super() {}
function Sub() {}

Sub.prototype = new Super();
Sub.prototype.constructor = Sub;

var sub = new Sub();

Sub.__proto__ === Function.prototype;

/*
 sub.__proto__ => Sub.prototype
 Sub.prototype.__proto__ => Super.prototype
 Super.prototype.constructor => Super
*/
```
è€Œé€šè¿‡ ES5 çš„æ–¹å¼ï¼ŒSub.__proto__ === Function.prototype

ES5 å’Œ ES6 å­ç±» this ç”Ÿæˆé¡ºåºä¸åŒã€‚ES5 çš„ç»§æ‰¿å…ˆç”Ÿæˆäº†å­ç±»å®ä¾‹ï¼Œå†è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ä¿®é¥°å­ç±»å®ä¾‹ï¼ŒES6 çš„ç»§æ‰¿å…ˆç”Ÿæˆçˆ¶ç±»å®ä¾‹ï¼Œå†è°ƒç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®é¥°çˆ¶ç±»å®ä¾‹ã€‚è¿™ä¸ªå·®åˆ«ä½¿å¾— ES6 å¯ä»¥ç»§æ‰¿å†…ç½®å¯¹è±¡ã€‚

```js
function MyES5Array() {
  Array.call(this, arguments);
}

// it's useless
const arrayES5 = new MyES5Array(3); // arrayES5: MyES5Array {}

class MyES6Array extends Array {}

// it's ok
const arrayES6 = new MyES6Array(3); // arrayES6: MyES6Array(3) []
```

## æ€»ç»“

![ES6-CLASS](./imgs/ES6-class.png)

- ES5çš„ç»§æ‰¿ï¼ŒES6çš„ç»§æ‰¿å®ç°åœ¨äºä½¿ç”¨**superå…³é”®å­—**è°ƒç”¨çˆ¶ç±»ï¼Œåè§‚ES5æ˜¯é€šè¿‡**callæˆ–è€…applyå›è°ƒæ–¹æ³•æˆ–ä½¿ç”¨åŸå‹é“¾ç»§æ‰¿**è°ƒç”¨çˆ¶ç±»ã€‚
